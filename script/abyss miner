local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
    Name = "Chat GPT Hub",
    LoadingTitle = "Chat GPT Hub",
    LoadingSubtitle = "by ChatGPT",
    ConfigurationSaving = { Enabled = false },
    Discord = { Enabled = false },
    KeySystem = false,
})

local MainTab = Window:CreateTab("Main", 4483362458)

local digRunning = false
local sellRunning = false
local hitboxRunning = false

-- üî® HITBOX Function
local function fireHitBox()
    local args = {
        20,                -- Damage
        "Standard",        -- Hit type
        false,             -- Critical hit
        "Xplr. Pickaxe",   -- Tool name
        0.85               -- Multiplier
    }

    local success, err = pcall(function()
        ReplicatedStorage:WaitForChild("RemoteEvent")
            :WaitForChild("HitBox")
            :FireServer(unpack(args))
    end)

    if success then
        print("‚úÖ HitBox triggered")
    else
        warn("‚ùó HitBox error:", err)
    end
end

-- üîÅ HITBOX TOGGLE
MainTab:CreateToggle({
    Name = "Auto HitBox",
    CurrentValue = false,
    Flag = "HitBoxToggle",
    Callback = function(enabled)
        hitboxRunning = enabled
        if enabled then
            print("üü¢ Auto HitBox started")
            task.spawn(function()
                while hitboxRunning do
                    fireHitBox()
                    task.wait(0.1)
                end
            end)
        else
            print("üî¥ Auto HitBox stopped")
        end
    end,
})

-- üéØ HITBOX BUTTON
MainTab:CreateButton({
    Name = "Trigger HitBox Once",
    Callback = function()
        fireHitBox()
    end,
})

-- DIG TOGGLE
MainTab:CreateToggle({
    Name = "Start Dig",
    CurrentValue = false,
    Flag = "DigToggle",
    Callback = function(enabled)
        digRunning = enabled
        if enabled then
            print("üî® Dig started")
            task.spawn(function()
                while digRunning do
                    local args = { 9999, "Dig", true }
                    local success, err = pcall(function()
                        ReplicatedStorage:WaitForChild("RemoteEvent")
                            :WaitForChild("HitBox")
                            :FireServer(unpack(args))
                    end)
                    if not success then
                        warn("‚ùó Dig error:", err)
                    end
                    task.wait(0.1)
                end
            end)
        else
            print("‚õî Dig stopped")
        end
    end,
})

-- SELL TOGGLE
MainTab:CreateToggle({
    Name = "Start Sell",
    CurrentValue = false,
    Flag = "SellToggle",
    Callback = function(enabled)
        sellRunning = enabled
        if enabled then
            print("üí∞ Auto Sell started")
            task.spawn(function()
                while sellRunning do
                    local success, err = pcall(function()
                        local rei = workspace:WaitForChild("Map")
                            :WaitForChild("Layer 1")
                            :WaitForChild("Npcs")
                            :WaitForChild("Rei ' The professer")
                            :WaitForChild("Rei")
                        local dialogue = rei:WaitForChild("HumanoidRootPart"):WaitForChild("Dialogue")
                        local args = { rei, dialogue }

                        ReplicatedStorage:WaitForChild("RemoteEvent")
                            :WaitForChild("SellAllInventory")
                            :FireServer(unpack(args))

                        print("‚úÖ Sell triggered")
                    end)
                    if not success then
                        warn("‚ùó Sell error:", err)
                    end
                    task.wait(1)
                end
            end)
        else
            print("‚õî Sell stopped")
        end
    end,
})
